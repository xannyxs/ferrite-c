#ifndef KEYBOARD_H
#define KEYBOARD_H

#include "arch/x86/idt/idt.h"
#include <stdbool.h>
#include <stdint.h>

#define KEYBOARD_DATA_PORT 0x60
#define KEYBOARD_STATUS_PORT 0x64

typedef enum keyboard_key {
  KeyEsc = 0x01,
  Key1 = 0x02,
  Key2 = 0x03,
  Key3 = 0x04,
  Key4 = 0x05,
  Key5 = 0x06,
  Key6 = 0x07,
  Key7 = 0x08,
  Key8 = 0x09,
  Key9 = 0x0a,
  Key0 = 0x0b,
  KeyMinus = 0x0c,
  KeyEqual = 0x0d,
  KeyBackspace = 0x0e,
  KeyTab = 0x0f,
  KeyQ = 0x10,
  KeyW = 0x11,
  KeyE = 0x12,
  KeyR = 0x13,
  KeyT = 0x14,
  KeyY = 0x15,
  KeyU = 0x16,
  KeyI = 0x17,
  KeyO = 0x18,
  KeyP = 0x19,
  KeyOpenBrace = 0x1a,
  KeyCloseBrace = 0x1b,
  KeyEnter = 0x1c,
  KeyLeftControl = 0x1d,
  KeyA = 0x1e,
  KeyS = 0x1f,
  KeyD = 0x20,
  KeyF = 0x21,
  KeyG = 0x22,
  KeyH = 0x23,
  KeyJ = 0x24,
  KeyK = 0x25,
  KeyL = 0x26,
  KeySemiColon = 0x27,
  KeySingleQuote = 0x28,
  KeyBackTick = 0x29,
  KeyLeftShift = 0x2a,
  KeyBackslash = 0x2b,
  KeyZ = 0x2c,
  KeyX = 0x2d,
  KeyC = 0x2e,
  KeyV = 0x2f,
  KeyB = 0x30,
  KeyN = 0x31,
  KeyM = 0x32,
  KeyComma = 0x33,
  KeyDot = 0x34,
  KeySlash = 0x35,
  KeyRightShift = 0x36,
  KeyKeypadStar = 0x37,
  KeyLeftAlt = 0x38,
  KeySpace = 0x39,
  KeyCapsLock = 0x3a,
  KeyF1 = 0x3b,
  KeyF2 = 0x3c,
  KeyF3 = 0x3d,
  KeyF4 = 0x3e,
  KeyF5 = 0x3f,
  KeyF6 = 0x40,
  KeyF7 = 0x41,
  KeyF8 = 0x42,
  KeyF9 = 0x43,
  KeyF10 = 0x44,
  KeyNumberLock = 0x45,
  KeyScrollLock = 0x46,
  KeyKeypad7 = 0x47,
  KeyKeypad8 = 0x48,
  KeyKeypad9 = 0x49,
  KeyKeypadMinus = 0x4a,
  KeyKeypad4 = 0x4b,
  KeyKeypad5 = 0x4c,
  KeyKeypad6 = 0x4d,
  KeyKeypadPlus = 0x4e,
  KeyKeypad1 = 0x4f,
  KeyKeypad2 = 0x50,
  KeyKeypad3 = 0x51,
  KeyKeypad0 = 0x52,
  KeyKeypadDot = 0x53,
  KeyF11 = 0x57,
  KeyF12 = 0x58,
  KeyPreviousTrack = 0x90,
  KeyNextTrack = 0x99,
  KeyKeypadEnter = 0x9c,
  KeyRightControl = 0x9d,
  KeyMute = 0xa0,
  KeyCalculator = 0xa1,
  KeyPlay = 0xa2,
  KeyStop = 0xa4,
  KeyVolumeDown = 0xae,
  KeyVolumeUp = 0xb0,
  KeyWWWHome = 0xb2,
  KeyKeypadSlash = 0xb5,
  KeyRightAlt = 0xb8,
  KeyHome = 0xc7,
  KeyCursorUp = 0xc8,
  KeyPageUp = 0xc9,
  KeyCursorLeft = 0xcb,
  KeyCursorRight = 0xcd,
  KeyEnd = 0xcf,
  KeyCursorDown = 0xd0,
  KeyPageDown = 0xd1,
  KeyInsert = 0xd2,
  KeyDelete = 0xd3,
  KeyLeftGUI = 0xdb,
  KeyRightGUI = 0xdc,
  KeyApps = 0xdd,
  KeyACPIPower = 0xde,
  KeyACPISleep = 0xdf,
  KeyACPIWake = 0xe3,
  KeyWWWSearch = 0xe5,
  KeyWWWFavorites = 0xe6,
  KeyWWWRefresh = 0xe7,
  KeyWWWStop = 0xe8,
  KeyWWWForward = 0xe9,
  KeyWWWBack = 0xea,
  KeyMyComputer = 0xeb,
  KeyEmail = 0xec,
  KeyMediaSelect = 0xed,
  KeyPrintScreen = 0xee,
  KeyPause = 0xef,
} keyboard_key_t;

int32_t getscancode(void);

void setscancode(int32_t scancode);

void keyboard_input(struct interrupt_frame *);

#endif /* KEYBOARD_H */
